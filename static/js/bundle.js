const e=()=>window.innerWidth<1024;let t=null;const n=Array.from(document.querySelectorAll(".dynamic-word p")),o=e=>{n[t]&&n[t].classList.remove("active"),n[e].classList.add("active"),t=e},r=Array.from(document.querySelectorAll(".text-content")),l=Array.from(document.querySelectorAll(".media-content")),i=document.querySelector(".space"),c=Math.max(r.length,l.length);let d=null;const s=(e,t)=>1-t+(()=>{const t=.35;return e<t?e/t:e>t+.3?(1-e)/t:1})()*t,a=document.querySelector(".slides"),u=()=>{i.style.height=window.innerHeight*(c-1)-.3*window.innerHeight+"px"},m=e=>{const t=()=>{e.forEach((e=>{e.getBoundingClientRect().top<window.innerHeight&&e.getBoundingClientRect().bottom>0?e.play().catch((e=>console.log("Playback failed: %o",e))):e.pause()}))};window.addEventListener("scroll",t),window.addEventListener("resize",t),t()},y=()=>{const e=.65*window.innerHeight,t=window.innerHeight*c-e;let n=document.documentElement.scrollTop+e;const o=Math.min(n,t);n>o&&(n-=.35*window.innerHeight);let i=Math.floor(n/window.innerHeight);var u;i>c-1&&(i=null),u=i,console.log(u),u!==d&&(l[d]&&(l[d].classList.remove("active"),l[d].querySelector("video").pause()),null!==u&&(l[u].classList.add("active"),l[u].querySelector("video").play()),r[d]&&r[d].classList.remove("active"),null!=u&&r[u].classList.add("active"),d=u),((e,t)=>{if(null===e)return;const n=e%2==1?1:-1,o=t%window.innerHeight/window.innerHeight,i=(a.clientWidth-l[e].clientWidth)/2,c=(a.clientWidth-r[e].clientWidth)/2,d=-n*s(o,1)*i,u=n*s(o,.3)*c,m=s(o,1);l[e].style.transform=`translateX(${d}px)`,r[e].style.transform=`translateX(${u}px)`,r[e].style.opacity=m})(i,o)},w=new Promise((e=>setTimeout(e,1e3))),v=()=>{const e=document.querySelector(".form"),t=Array.from(document.querySelectorAll(".form-show-button")),n=Array.from(document.querySelectorAll(".form-hide-button")),o=()=>{e.classList.add("open"),setTimeout((()=>{e.querySelector("input").focus()}),100)},r=()=>{e.classList.remove("open")};n.map((e=>e.addEventListener("click",r))),t.map((e=>e.addEventListener("click",o))),e.addEventListener("click",(e=>{e.target===e.currentTarget&&r()}));const l=document.querySelector("select"),i=document.querySelector(".select-value");l.addEventListener("change",(e=>{var t;t=e.target.options[e.target.selectedIndex].innerHTML,i.innerHTML=t}));const c=document.querySelector(".beta-access-form");c.addEventListener("submit",(e=>{e.preventDefault(),c.classList.add("done")}))};Promise.all([(()=>{const e=Array.from(document.querySelectorAll("source[data-src]")),t=Array.from(document.querySelectorAll(".slides video"));e.map((e=>e.src=e.getAttribute("data-src")));const n=t.map((e=>new Promise((t=>{e.addEventListener("loadedmetadata",t),e.addEventListener("loadeddata",t),e.load()}))));return Promise.race([Promise.all(n).then((()=>1)),new Promise((e=>setTimeout(e,5e3))).then((()=>2))])})(),w]).finally((()=>{e()||(document.documentElement.scrollTop=0),y(),window.addEventListener("scroll",(()=>{e()||y()})),window.addEventListener("resize",(()=>{e()||(u(),y())})),v(),(()=>{const t=document.querySelector(".plans"),n=document.querySelector("header"),o=()=>{e()||(t.getBoundingClientRect().top-n.clientHeight/2<0&&t.getBoundingClientRect().bottom-n.clientHeight/2>0?n.classList.add("over-plans"):n.classList.remove("over-plans"))};window.addEventListener("scroll",o),window.addEventListener("resize",o),o()})(),document.querySelector(".loader").classList.add("done"),e()||document.querySelector(".root").classList.add("initialized"),(()=>{const t=Array.from(document.querySelectorAll(".page-media")),n=Array.from(document.querySelectorAll(".media-content video"));e()?m(n.concat(t)):m(t)})(),setInterval((()=>{o((t+1)%n.length),console.log(1)}),2e3)})),u(),o(0);
//# sourceMappingURL=bundle.js.map
